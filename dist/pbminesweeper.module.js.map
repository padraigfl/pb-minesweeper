{"version":3,"file":"pbminesweeper.module.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/Game/images/open1.png","../src/Game/images/open2.png","../src/Game/images/open3.png","../src/Game/images/open4.png","../src/Game/images/open5.png","../src/Game/images/open6.png","../src/Game/images/open7.png","../src/Game/images/open8.png","../src/Game/images/question.png","../src/Game/images/flag.png","../src/Game/images/misflagged.png","../src/Game/images/mine-death.png","../src/Game/images/mine-ceil.png","../src/Game/Cell.js","../src/Game/images/digit0.png","../src/Game/images/digit1.png","../src/Game/images/digit2.png","../src/Game/images/digit3.png","../src/Game/images/digit4.png","../src/Game/images/digit5.png","../src/Game/images/digit6.png","../src/Game/images/digit7.png","../src/Game/images/digit8.png","../src/Game/images/digit9.png","../src/Game/images/digit-.png","../src/Game/Counter.js","../src/Game/Status.js","../src/Game/Game.js","../src/App.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGAng/38IpkgzWQYgaybZAHTNA+OFIW4AtkAkySCKDRhKAAB8jU+x6ZwbNAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGIagmuE/XkyRZoKG4FNEtCvIMZwkb1EUmLTVSJFzaRKNZCemIQcA2OFf+6sS8JAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAK0lEQVR42mNgGF7gPxARwhQbQNAQYgynjwEUO5+q/qdfGFAcjTRLA4MbAACQL3uF13XmMAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJ0lEQVR42mNgGK6g+j8CY+PT1gBsiulnALJCfJh2BpDirZFmwGAGAE2EUrFtzr/cAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAJklEQVR42mNgGF6gmoHhPzGYPgZQ7AWahQFtA5Fu3hvYdMAw/AAAgjlnXUQq77YAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAKklEQVR42mNgGIaguvo/XkyRZpIMoNj5NPE/VcIAryH4FNHfAJqFw/ADANeOjOlonwSHAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAHklEQVR42mNgGHbgP5GYdgYQazj9DRi1fSCjbggAADl0K9Xj0B5TAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGH6gurr6Pz5MkWaChuBTRB8DKA4DqgbiwIQBxdFIlUAcegAAKVC5Qc8U50QAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALElEQVR42mNgGNbgPxomSzMuPu0NIGTgENFMFQOolhYGuxf27t37f2A0AwEAQr8eVaRMnxsAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAL0lEQVR42mNgGN7gPxD9B1NkaiTLAHTN9HcBVcIA05wBMuA/GiZbI8kGUWzAEAMA9m03yW7foZAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVklEQVR42tVSQQ4AIAjy/5+mdfBQoTJbh9g8BaSi2Q+AygI4GTJ3ewCp7KPD5KhS7B5OnCBiKEtbBKSrWMhajkYqjRKDNyOkSagJ3MUYENC5wt4pdzAAjVmTbVcYf78AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAQ0lEQVR42mNgoAb4D0TkYoIGMNDdAAYkGh1jMxCrCxjwYKJcAFYIBYQMoZ4BDGRgvC4gNhyobwBVYoHidDCwSZlUDABNhnuTt8N6swAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAN0lEQVR42mNgGArgP90N+I9Eo2OiDfyPBxOnGQbIMYRsA/6Tgck2iOwA/E+3WKA4HQxsUiYJAAAf1lyk4ulhiwAAAABJRU5ErkJggg==\"","import React from 'react';\nimport cx from 'classnames';\nimport styles from './_game.module.scss';\nimport * as images from './images/board';\n\nconst Cell = props => {\n  let Tag = 'button';\n  let image;\n  if (props.clicked || props.flagged || props.questioned) {\n    Tag = 'div';\n  }\n\n  if (props.end) {\n    image = images.mineDeath;\n  } else if (props.flagged && props.gameOver) {\n    image = images.misflag;\n  } else if (props.flagged) {\n    image = images.flag;\n  } else if (props.questioned) {\n    image = images.question;\n  } else if (props.gameOver && props.mine) {\n    image = images.mine;\n  } else if (props.clicked && props.warningCount && !props.mine) {\n    image = images[`warning${props.warningCount}`];\n  }\n\n  return (\n    <Tag\n      className={cx(styles.cell, props.className, {\n        [styles.flagged]: props.flagged,\n        [styles.questioned]: props.questioned,\n        [styles.clicked]: props.clicked,\n        [styles.mine]: props.clicked && props.mine,\n        [styles.end]: props.end\n      })}\n      onClick={Tag !== 'div' ? props.onClick : undefined}\n      onContextMenu={!props.clicked ? props.onFlag : undefined}\n      value={props.id}\n      data-value={props.id}\n      key={props.id}\n      style={image ? { backgroundImage: `url(${image})` } : undefined}\n    />\n  );\n};\n\nexport default Cell;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAT0lEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRNMshoHjRFPhDRUY0tGZNlEtp9GUwQl+YnknEtWGUEqBgCfOaw1/D0TFAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASUlEQVR42mNgYGD4TwZGcKoJ0CiaqonQCML/0W3CpxGm4T82m6px+OE/Nk34NODUNMRtwht6JMfTwKQIkvw0miIoyU+0TxGkYgAPeGy3U1240gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAWklEQVR42t2SMQ7AIAwD/W8/3h0YKii4SZhgsJTldEpiAFAhbVAgHcQAiB5sgwPxtb0AFztoBjlgCR1ustdL/yndCAVNHCH97MSZyYF0Jl1oQuzcG38qNSKbB3/NoALNu9QgAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASUlEQVR42mNgYGD4TwaGMP4TgVE0VROhkQFVI4SBTyMDpm0IDdU4/PAfmyZ8GnBqGuI24Q09kuOJ/imCZD+NpghK8hPtUwSpGACCn6ACoxe3NgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAW0lEQVR42uWUOw4AIAhDuXcPXwcHIkF+ow6NwfBsUFBEhANpgGQ9IBZAk7eDCHRydIOXGvgbFD2oC9kT6TjQdgQLOjoCUyd0a0ICureXOfEBp9I8YTK5oz+iqwUjhY35eHHgggAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAWklEQVR42tWSSQrAMAwD9W89fkrpKab1EnrJQWAIw6DYksRGnoFGFogGeL87QhkYgBXio4MzE0n5U02amsZ72roIN01Ek4tORMgFyBtUmTjclH03v+xpfBHTXH/NoALFMh2nAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAUklEQVR42uWSwQoAIAhD9999/IvolJBm0SE6DAR5jDkliQ31gQUNEAtg2xcLeaABRohJhuI54YR/1UlZp3RPVz+CbCZmEAHwDaTg3Bz3tPURWVX6Rq8pbI7sgQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAU0lEQVR42mNgYGD4TwaGMP4TgVE0VROhkQFVI4SBTyMDpm0IDdU4/PAfmyZ8GnBqGuI24Q09bLZWo2lEsQmfhmpsyYhsm8j202iKIBDsA5wiSMUAOd99T+GP8TIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAQklEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRPJ8TQwKYIkP42mCEryE31SBKkYANgvvlDAiYGMAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAAUUlEQVR42mNgYGD4TwaGMP4TgVE0/SdCIwOqRkwJXBqwavqPww//R5omfBGKVRPJ8URWiqgm16ZqUv1UTUAj1tAjZNP/IW4T0fmpmm4pglQMAF22ryk/sMoKAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAXCAYAAADQpsWBAAAASElEQVR42mNgYGD4TwZGcKoJ0CiaqonQiMbGLYlDA6pN1Tj8UE2MTfg0jgib/uPBWG36TwSmjk2j8UQtm0jKTyTnXJLLCFIxAO0rYITcR7oGAAAAAElFTkSuQmCC\"","import React from 'react';\nimport * as digits from './images/digits';\nimport styles from './_game.module.scss';\n\nconst Counter = props => (\n  <div className={styles.counter}>\n    {props.value\n      .toString()\n      .padStart(3, '0')\n      .split('')\n      .map((v, idx) => (\n        <img key={idx} src={digits[`digit${+v}`] || digits.digit_} alt={v} />\n      ))}\n  </div>\n);\n\nexport default Counter;\n","import React from 'react';\nimport styles from './_game.module.scss';\nimport Counter from './Counter';\n\nconst Status = props => (\n  <div className={styles.status}>\n    <Counter value={props.totalMines - props.numberFlagged} />\n    <button className=\"\" onClick={props.newGame} type=\"button\" />\n    <Counter value={props.totalMoves} />\n  </div>\n);\n\nexport default Status;\n","import React, { useState, useEffect } from 'react';\nimport cx from 'classnames';\nimport Cell from './Cell';\nimport styles from './_game.module.scss';\nimport Status from './Status';\n\nconst getRelativePositionsOfSurroundingCells = (gridSize, idx) => {\n  const gridColSize = gridSize[0];\n  const surroundingCells = [idx - gridColSize, idx + gridColSize];\n  const leftSide = [idx - gridColSize - 1, idx - 1, idx + gridColSize - 1];\n  const rightSide = [idx - gridColSize + 1, idx + 1, idx + gridColSize + 1];\n\n  const onLeftColumn = idx % gridColSize === 0;\n  const onRightColumn = idx % gridColSize === gridColSize - 1;\n\n  if (!onLeftColumn && !onRightColumn) {\n    surroundingCells.push(...leftSide, ...rightSide);\n  } else if (!onLeftColumn) {\n    surroundingCells.push(...leftSide);\n  } else if (!onRightColumn) {\n    surroundingCells.push(...rightSide);\n  }\n  return surroundingCells.filter(\n    index => index > -1 && index < gridSize[0] * gridSize[1]\n  );\n};\n\nconst setMines = (gridSize, minesCount) => {\n  const mines = [];\n  for (let i = 0; i < minesCount; i += 1) {\n    let nextMineIdx = -1;\n    while (nextMineIdx === -1) {\n      const suggestedIdx = Math.floor(\n        Math.random() * gridSize[0] * gridSize[1]\n      );\n      if (!mines.includes(suggestedIdx)) {\n        nextMineIdx = suggestedIdx;\n      }\n    }\n    mines.push(nextMineIdx);\n  }\n  return mines;\n};\n\nconst initialize = (gridSize, mines) => {\n  const mineIndex = setMines(gridSize, mines);\n  return new Array(gridSize[0] * gridSize[1])\n    .fill({\n      clicked: false,\n      flagged: false\n    })\n    .map((entry, idx) => {\n      const surroundingCells = getRelativePositionsOfSurroundingCells(\n        gridSize,\n        idx\n      );\n      let warningCount = 0;\n      surroundingCells.forEach(val => {\n        if (mineIndex.includes(val)) {\n          warningCount += 1;\n        }\n      });\n      return {\n        ...entry,\n        isMine: mineIndex.includes(idx),\n        warningCount\n      };\n    });\n};\n\nconst clickEvent = (state, gridSize, clickedIndex) => {\n  const surroundingCellIndexes = getRelativePositionsOfSurroundingCells(\n    gridSize,\n    clickedIndex\n  );\n  if (clickedIndex > state.length - 1) {\n    return state;\n  }\n\n  state[clickedIndex].clicked = true;\n\n  surroundingCellIndexes.forEach(idx => {\n    if (!state[idx] || state[idx].isMine || state[idx].clicked) {\n      return;\n    }\n    if (!state[idx].warningCount) {\n      clickEvent(state, gridSize, idx);\n    } else {\n      state[idx].clicked = true;\n    }\n  });\n\n  return state;\n};\n\nconst onClickCell = (state, gridSize, clickedIndex) => {\n  const stateCopy = JSON.parse(JSON.stringify(state));\n  return clickEvent(stateCopy, gridSize, clickedIndex);\n};\n\nconst Grid = props => {\n  const [boardState, updateBoard] = useState(\n    initialize(props.gridSize, props.mines)\n  );\n  const [flagged, updateFlagged] = useState([]);\n  const [questioned, updateQuestioned] = useState([]);\n  const [movesCount, updateMovesCount] = useState(0);\n  const [endState, setEndState] = useState(null);\n\n  const restart = () => {\n    updateBoard(initialize(props.gridSize, props.mines));\n    updateFlagged([]);\n    updateQuestioned([]);\n    updateMovesCount(0);\n    setEndState(null);\n  };\n\n  useEffect(() => {\n    const remaining = boardState.filter(cell => !cell.clicked).length;\n    if (remaining === 0) {\n      setEndState({ lose: true });\n    } else if (remaining === props.mines) {\n      setEndState({ win: true });\n    }\n  }, boardState);\n\n  useEffect(restart, [props.gameId]);\n\n  const onClick = e => {\n    const value = +e.target.dataset.value;\n    updateMovesCount(movesCount + 1);\n    if (boardState[value].isMine) {\n      const updatedBoard = boardState.map(val => ({ ...val, clicked: true }));\n      updatedBoard[value].end = true;\n      updateBoard(updatedBoard);\n      return;\n    }\n    const x = onClickCell(boardState, props.gridSize, value);\n    updateBoard(x);\n  };\n\n  const onFlag = e => {\n    const value = +e.target.dataset.value;\n    e.preventDefault();\n    e.stopPropagation();\n    const alreadyFlagged = flagged.includes(value);\n    const alreadyQuestioned = questioned.includes(value);\n    if (alreadyQuestioned) {\n      updateQuestioned(questioned.filter(val => val !== value));\n      return;\n    }\n    if (alreadyFlagged) {\n      updateFlagged(flagged.filter(val => val !== value));\n      updateQuestioned([...questioned, value]);\n      return;\n    }\n    updateFlagged([...flagged, value]);\n  };\n\n  return (\n    <div\n      className={cx(styles.minesweeper, {\n        [styles.win]: endState && endState.win,\n        [styles.lose]: endState && endState.lose\n      })}\n    >\n      <Status\n        totalMines={props.mines}\n        numberFlagged={flagged.length}\n        newGame={restart}\n        totalMoves={movesCount}\n        endState={endState}\n      />\n      <div className={styles.board}>\n        <div\n          className={styles.grid}\n          style={{\n            gridTemplateColumns: `repeat(${props.gridSize[0]}, 16px)`\n          }}\n        >\n          {boardState.map((cell, idx) => (\n            <Cell\n              mine={cell.isMine}\n              clicked={cell.clicked}\n              end={cell.end}\n              flagged={flagged.includes(idx)}\n              questioned={questioned.includes(idx)}\n              warningCount={cell.warningCount}\n              gameOver={endState}\n              onClick={onClick}\n              onFlag={onFlag}\n              id={idx}\n            />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nGrid.defaultProps = {\n  gridSize: [9, 9],\n  mines: 10\n};\n\nexport default Grid;\n","import React from 'react';\nimport Game from './Game/Game';\n\nconst App = props => {\n  return (\n    <Game gameId={props.id} gridSize={props.gridSize} mines={props.mines} />\n  );\n};\n\nApp.defaultProps = {\n  gameId: 1, // to trigger restart\n  gridSize: [9, 9], // @todo needs to be an array\n  mines: 11\n};\n\nexport default App;\n"],"names":["Cell","props","Tag","image","clicked","flagged","questioned","end","images","gameOver","mine","warningCount","cx","styles","cell","className","onClick","undefined","onFlag","id","backgroundImage","Counter","counter","value","toString","padStart","split","map","v","idx","digits","Status","status","totalMines","numberFlagged","newGame","totalMoves","getRelativePositionsOfSurroundingCells","gridSize","gridColSize","surroundingCells","leftSide","rightSide","onLeftColumn","onRightColumn","push","filter","index","setMines","minesCount","mines","i","nextMineIdx","suggestedIdx","Math","floor","random","includes","initialize","mineIndex","Array","fill","entry","forEach","val","isMine","clickEvent","state","clickedIndex","surroundingCellIndexes","length","onClickCell","stateCopy","JSON","parse","stringify","Grid","useState","boardState","updateBoard","updateFlagged","updateQuestioned","movesCount","updateMovesCount","endState","setEndState","restart","useEffect","remaining","lose","win","gameId","e","target","dataset","updatedBoard","x","preventDefault","stopPropagation","alreadyFlagged","alreadyQuestioned","minesweeper","board","grid","gridTemplateColumns","defaultProps","App","Game"],"mappings":"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"}